{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { parseJSON } from './util';\nvar WebStorage = /** @class */function () {\n  function WebStorage(prefix, driver) {\n    if (prefix === void 0) {\n      prefix = 'app_';\n    }\n    if (driver === void 0) {\n      driver = 'local';\n    }\n    this.prefix = prefix;\n    this.storage = this.resolveDriver(driver);\n  }\n  WebStorage.prototype.prefixKey = function (key) {\n    return this.prefix + String(key);\n  };\n  WebStorage.prototype.set = function (key, value) {\n    return this.storage.setItem(this.prefixKey(key), JSON.stringify(value));\n  };\n  WebStorage.prototype.get = function (key, defaultValue) {\n    if (defaultValue === void 0) {\n      defaultValue = null;\n    }\n    var storedValue = null;\n    var item = this.storage.getItem(this.prefixKey(key));\n    if (!!item) {\n      storedValue = parseJSON(item);\n    }\n    return storedValue === null ? defaultValue : storedValue;\n  };\n  WebStorage.prototype.remove = function (key) {\n    return this.storage.removeItem(this.prefixKey(key));\n  };\n  WebStorage.prototype.clear = function (force) {\n    var _this = this;\n    if (force === void 0) {\n      force = false;\n    }\n    if (force) {\n      this.storage.clear();\n    } else {\n      this.keys(true).map(function (key) {\n        _this.storage.removeItem(key);\n      });\n    }\n  };\n  WebStorage.prototype.keys = function (withPrefix) {\n    var _this = this;\n    if (withPrefix === void 0) {\n      withPrefix = false;\n    }\n    var keys = [];\n    // Loop through all storage keys\n    Object.keys(this.storage).forEach(function (keyName) {\n      /* istanbul ignore else */\n      if (keyName.substr(0, _this.prefix.length) === _this.prefix) {\n        keys.push(withPrefix ? keyName : keyName.substring(_this.prefix.length));\n      }\n    });\n    return keys;\n  };\n  WebStorage.prototype.hasKey = function (key) {\n    return this.keys().indexOf(key) !== -1;\n  };\n  WebStorage.prototype.length = function () {\n    return this.keys().length;\n  };\n  WebStorage.prototype.resolveDriver = function (driver) {\n    switch (driver) {\n      case 'local':\n        return window.localStorage;\n      case 'session':\n        return window.sessionStorage;\n      default:\n        throw new Error(\"Unknown driver supplied: \" + driver);\n    }\n  };\n  return WebStorage;\n}();\nexport default WebStorage;","map":{"version":3,"names":["parseJSON","WebStorage","prefix","driver","storage","resolveDriver","prototype","prefixKey","key","String","set","value","setItem","JSON","stringify","get","defaultValue","storedValue","item","getItem","remove","removeItem","clear","force","_this","keys","map","withPrefix","Object","forEach","keyName","substr","length","push","substring","hasKey","indexOf","window","localStorage","sessionStorage","Error"],"sources":["F:/myvue1/elmclient/elmclient/node_modules/vue-web-storage/dist/esm/webStorage.js"],"sourcesContent":["import { parseJSON } from './util';\nvar WebStorage = /** @class */ (function () {\n    function WebStorage(prefix, driver) {\n        if (prefix === void 0) { prefix = 'app_'; }\n        if (driver === void 0) { driver = 'local'; }\n        this.prefix = prefix;\n        this.storage = this.resolveDriver(driver);\n    }\n    WebStorage.prototype.prefixKey = function (key) {\n        return this.prefix + String(key);\n    };\n    WebStorage.prototype.set = function (key, value) {\n        return this.storage.setItem(this.prefixKey(key), JSON.stringify(value));\n    };\n    WebStorage.prototype.get = function (key, defaultValue) {\n        if (defaultValue === void 0) { defaultValue = null; }\n        var storedValue = null;\n        var item = this.storage.getItem(this.prefixKey(key));\n        if (!!item) {\n            storedValue = parseJSON(item);\n        }\n        return storedValue === null ? defaultValue : storedValue;\n    };\n    WebStorage.prototype.remove = function (key) {\n        return this.storage.removeItem(this.prefixKey(key));\n    };\n    WebStorage.prototype.clear = function (force) {\n        var _this = this;\n        if (force === void 0) { force = false; }\n        if (force) {\n            this.storage.clear();\n        }\n        else {\n            this.keys(true).map(function (key) {\n                _this.storage.removeItem(key);\n            });\n        }\n    };\n    WebStorage.prototype.keys = function (withPrefix) {\n        var _this = this;\n        if (withPrefix === void 0) { withPrefix = false; }\n        var keys = [];\n        // Loop through all storage keys\n        Object.keys(this.storage).forEach(function (keyName) {\n            /* istanbul ignore else */\n            if (keyName.substr(0, _this.prefix.length) === _this.prefix) {\n                keys.push(withPrefix ? keyName : keyName.substring(_this.prefix.length));\n            }\n        });\n        return keys;\n    };\n    WebStorage.prototype.hasKey = function (key) {\n        return this.keys().indexOf(key) !== -1;\n    };\n    WebStorage.prototype.length = function () {\n        return this.keys().length;\n    };\n    WebStorage.prototype.resolveDriver = function (driver) {\n        switch (driver) {\n            case 'local':\n                return window.localStorage;\n            case 'session':\n                return window.sessionStorage;\n            default:\n                throw new Error(\"Unknown driver supplied: \" + driver);\n        }\n    };\n    return WebStorage;\n}());\nexport default WebStorage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}