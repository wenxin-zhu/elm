{"ast":null,"code":"import { reactive } from 'vue';\nimport axios from 'axios';\nimport qs from 'qs';\nimport { useRouter } from 'vue-router';\nexport default {\n  name: 'Register',\n  setup() {\n    const router = useRouter();\n    const user = reactive({\n      userId: '',\n      password: '',\n      userName: '',\n      userSex: 1\n    });\n    const confirmPassword = '';\n    const checkUserId = () => {\n      axios.post('UserController/getUserById', qs.stringify({\n        userId: user.userId\n      })).then(response => {\n        console.log(user.userId);\n        //const result = response.data.result;\n        if (response.data === 1) {\n          user.userId = '';\n          alert('该手机号码已经存在！');\n        }\n        console.log(result);\n        console.log(response.data);\n        console.log(user.userId);\n        console.log(1);\n      }).catch(error => {\n        console.error(error);\n      });\n    };\n    const register = () => {\n      if (user.userId === '') {\n        alert('手机号码不能为空!');\n        return;\n      }\n      if (user.password === '') {\n        alert('密码不能为空!');\n        return;\n      }\n      if (user.password != confirmPassword) {\n        alert('两次输入的密码不一致！');\n        return;\n      }\n      if (user.userName === '') {\n        alert('用户名不能为空!');\n        return;\n      }\n\n      // Registration request\n      axios.post('UserController/saveUser', qs.stringify(user)).then(response => {\n        if (response.data > 0) {\n          alert('注册成功!');\n          router.go(-1);\n        } else {\n          alert('注册失败!');\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    };\n    return {\n      user,\n      checkUserId,\n      register\n    };\n  }\n};","map":{"version":3,"names":["reactive","axios","qs","useRouter","name","setup","router","user","userId","password","userName","userSex","confirmPassword","checkUserId","post","stringify","then","response","console","log","data","alert","result","catch","error","register","go"],"sources":["F:\\myvue1\\elmclient\\elmclient\\src\\views\\Register.vue"],"sourcesContent":["<template>\r\n\t<div class=\"wrapper\">\r\n\r\n\t\t<!--header部分-->\r\n\t\t<header>\r\n\t\t\t<p>用户注册</p>\r\n\t\t</header>\r\n\r\n\t\t<!--登陆表单部分-->\r\n\t\t<ul class=\"form-box\">\r\n\t\t\t<li>\r\n\t\t\t\t<div class=\"title\">\r\n\t\t\t\t\t手机号码：\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<input type=\"text\" @blur=\"checkUserId\" v-model=\"user.userId\" placeholder=\"手机号码\">\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<div class=\"title\">\r\n\t\t\t\t\t密码：\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<input type=\"password\" v-model=\"user.password\" placeholder=\"密码\">\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<div class=\"title\">\r\n\t\t\t\t\t确认密码：\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<input type=\"password\" v-model=\"confirmPassword\" placeholder=\"确认密码\">\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t <div class=\"title\">\r\n\t\t\t\t\t用户名称：\r\n\t\t\t </div>\r\n\t\t\t <div class=\"content\">\r\n\t\t\t\t<input type=\"text\" v-model=\"user.userName\" placeholder=\"用户名称\">\r\n\t\t\t  </div>\r\n\t\t\t </li>\r\n\t\t\t<li>\r\n\t\t\t\t<div class=\"title\">\r\n\t\t\t\t\t性别：\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"content\" style=\"font-size: 3vw;\">\r\n\t\t\t\t\t<input type=\"radio\" v-model=\"user.userSex\"  value=\"1\" style=\"width: 6vw;height: 3.2vw;\">男\r\n\t\t\t\t\t<input type=\"radio\" v-model=\"user.userSex\" value=\"0\"  style=\"width: 6vw;height: 3.2vw;\">女\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\r\n\t\t<div class=\"button-login\">\r\n\t\t\t<button  @click=\"register\">注册</button>\r\n\t\t</div>\r\n\r\n\t\t<!-- 底部菜单部分 -->\r\n\t\t<Footer></Footer>\r\n\t\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport { reactive } from 'vue';\r\n\timport axios from 'axios';\r\n\timport qs from 'qs';\r\n\timport { useRouter } from 'vue-router';\r\n\t\r\n\texport default {\r\n\t  name: 'Register',\r\n\t  setup() {\r\n\t    const router = useRouter();\r\n\t    const user = reactive({\r\n\t      userId: '',\r\n\t      password: '',\r\n\t      userName: '',\r\n\t      userSex: 1\r\n\t    });\r\n\t\tconst confirmPassword = ''; \r\n\t    const checkUserId = () => {\r\n\t      axios.post('UserController/getUserById', qs.stringify({\r\n\t        userId: user.userId,\r\n\t      })).then(response => {\r\n\t\t\tconsole.log(user.userId);\r\n\t            //const result = response.data.result;\r\n\t             if (response.data === 1) {\r\n\t              user.userId = '';\r\n\t              alert('该手机号码已经存在！');\r\n\t            }\r\n\t\t\t\tconsole.log(result);\r\n\t\t\t\tconsole.log(response.data);\r\n\t\t\t\tconsole.log(user.userId);\r\n\t\t\t\tconsole.log(1);\r\n\t      }).catch(error => {\r\n\t        console.error(error);\r\n\t\t\t\r\n\t      });\r\n\t    };\r\n\t\r\n\t    const register = () => {\r\n\t      if (user.userId === '') {\r\n\t        alert('手机号码不能为空!');\r\n\t        return;\r\n\t      }\r\n\t      if (user.password === '') {\r\n\t        alert('密码不能为空!');\r\n\t        return;\r\n\t      }\r\n\t\t  if (user.password != confirmPassword) {\n\t\t   alert('两次输入的密码不一致！');\n\t\t   return;\n          }\r\n\t      if (user.userName === '') {\r\n\t        alert('用户名不能为空!');\r\n\t        return;\r\n\t      }\r\n\t      \r\n\t      // Registration request\r\n\t      axios.post('UserController/saveUser', qs.stringify(user))\r\n\t        .then(response => {\r\n\t          if (response.data > 0) {\r\n\t            alert('注册成功!');\r\n\t            router.go(-1);\r\n\t          } else {\r\n\t            alert('注册失败!');\r\n\t          }\r\n\t        })\r\n\t        .catch(error => {\r\n\t          console.error(error);\r\n\t        });\r\n\t    }\r\n\t\r\n\t    return {\r\n\t      user,\r\n\t      checkUserId,\r\n\t      register\r\n\t    };\r\n\t  }\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t/****************** 总容器 ******************/\r\n\t.wrapper {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t/****************** header部分 ******************/\r\n\t.wrapper header {\r\n\t\twidth: 100%;\r\n\t\theight: 12vw;\r\n\t\tbackground-color: #0097FF;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 4.8vw;\r\n\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 1000;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/****************** 用户表单部分 ******************/\r\n\t.wrapper .form-box {\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 12vw;\r\n\t}\r\n\r\n\t.wrapper .form-box li {\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 4vw 3vw 0 3vw;\r\n\t\t/*上 右 下 左*/\r\n\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.wrapper .form-box li .title {\r\n\t\tflex: 0 0 18vw;\r\n\t\t/*标题部分不缩小&放大，固定18vw*/\r\n\t\tfont-size: 3vw;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.wrapper .form-box li .content {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.wrapper .form-box li input {\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t\t/*去掉外轮廓线*/\r\n\t\twidth: 100%;\r\n\t\theight: 4vw;\r\n\t\tfont-size: 3vw;\r\n\t}\r\n\r\n\t.wrapper .button-login {\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 4vw 3vw 0 3vw;\r\n\t}\r\n\r\n\t.wrapper .button-login button {\r\n\t\twidth: 100%;\r\n\t\theight: 10vw;\r\n\t\tfont-size: 3.8vw;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #38CA73;\r\n\t\tborder-radius: 4px;\r\n\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t}\r\n\r\n\t.wrapper .button-register {\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 4vw 3vw 0 3vw;\r\n\t}\r\n\r\n\t.wrapper .button-register button {\r\n\t\twidth: 100%;\r\n\t\theight: 10vw;\r\n\t\tfont-size: 3.8vw;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: #666;\r\n\t\tbackground-color: #EEE;\r\n\t\tborder-radius: 4px;\r\n\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t\tborder: solid 1px #DDD;\r\n\t}\r\n\r\n\t/****************** 底部菜单部分 ******************/\r\n\r\n</style>"],"mappings":"AA+DC,SAASA,QAAO,QAAS,KAAK;AAC9B,OAAOC,KAAI,MAAO,OAAO;AACzB,OAAOC,EAAC,MAAO,IAAI;AACnB,SAASC,SAAQ,QAAS,YAAY;AAEtC,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIH,SAAS,CAAC,CAAC;IAC1B,MAAMI,IAAG,GAAIP,QAAQ,CAAC;MACpBQ,MAAM,EAAE,EAAE;MACVC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE;IACX,CAAC,CAAC;IACL,MAAMC,eAAc,GAAI,EAAE;IACvB,MAAMC,WAAU,GAAIA,CAAA,KAAM;MACxBZ,KAAK,CAACa,IAAI,CAAC,4BAA4B,EAAEZ,EAAE,CAACa,SAAS,CAAC;QACpDP,MAAM,EAAED,IAAI,CAACC;MACf,CAAC,CAAC,CAAC,CAACQ,IAAI,CAACC,QAAO,IAAK;QACzBC,OAAO,CAACC,GAAG,CAACZ,IAAI,CAACC,MAAM,CAAC;QACd;QACC,IAAIS,QAAQ,CAACG,IAAG,KAAM,CAAC,EAAE;UACxBb,IAAI,CAACC,MAAK,GAAI,EAAE;UAChBa,KAAK,CAAC,YAAY,CAAC;QACrB;QACTH,OAAO,CAACC,GAAG,CAACG,MAAM,CAAC;QACnBJ,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;QAC1BF,OAAO,CAACC,GAAG,CAACZ,IAAI,CAACC,MAAM,CAAC;QACxBU,OAAO,CAACC,GAAG,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,CAACI,KAAK,CAACC,KAAI,IAAK;QAChBN,OAAO,CAACM,KAAK,CAACA,KAAK,CAAC;MAEtB,CAAC,CAAC;IACJ,CAAC;IAED,MAAMC,QAAO,GAAIA,CAAA,KAAM;MACrB,IAAIlB,IAAI,CAACC,MAAK,KAAM,EAAE,EAAE;QACtBa,KAAK,CAAC,WAAW,CAAC;QAClB;MACF;MACA,IAAId,IAAI,CAACE,QAAO,KAAM,EAAE,EAAE;QACxBY,KAAK,CAAC,SAAS,CAAC;QAChB;MACF;MACH,IAAId,IAAI,CAACE,QAAO,IAAKG,eAAe,EAAE;QACrCS,KAAK,CAAC,aAAa,CAAC;QACpB;MACK;MACH,IAAId,IAAI,CAACG,QAAO,KAAM,EAAE,EAAE;QACxBW,KAAK,CAAC,UAAU,CAAC;QACjB;MACF;;MAEA;MACApB,KAAK,CAACa,IAAI,CAAC,yBAAyB,EAAEZ,EAAE,CAACa,SAAS,CAACR,IAAI,CAAC,EACrDS,IAAI,CAACC,QAAO,IAAK;QAChB,IAAIA,QAAQ,CAACG,IAAG,GAAI,CAAC,EAAE;UACrBC,KAAK,CAAC,OAAO,CAAC;UACdf,MAAM,CAACoB,EAAE,CAAC,CAAC,CAAC,CAAC;QACf,OAAO;UACLL,KAAK,CAAC,OAAO,CAAC;QAChB;MACF,CAAC,EACAE,KAAK,CAACC,KAAI,IAAK;QACdN,OAAO,CAACM,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACN;IAEA,OAAO;MACLjB,IAAI;MACJM,WAAW;MACXY;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}